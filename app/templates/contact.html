{% extends "base.html" %}

{% block content %}
<section class="form-page">
  <div class="form-container">
    <h1>{{ _("Contact us") }}</h1>
    <p class="subtitle">{{ _("Have a question about a listing or our services? Our team responds quickly.") }}</p>

    <div style="background: var(--bg-light); padding: 24px; border-radius: var(--radius-lg); margin-bottom: 32px;">
      <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px;">
        <div>
          <h4 style="font-size: 14px; font-weight: 700; color: var(--text-dark); margin-bottom: 8px;">üìß {{ _("Email") }}</h4>
          <p style="font-size: 15px; color: var(--text-gray);">contact@pieces-methanisation.fr</p>
        </div>
        <div>
          <h4 style="font-size: 14px; font-weight: 700; color: var(--text-dark); margin-bottom: 8px;">üìû {{ _("Phone") }}</h4>
          <p style="font-size: 15px; color: var(--text-gray);">+33 X XX XX XX XX</p>
        </div>
        <div>
          <h4 style="font-size: 14px; font-weight: 700; color: var(--text-dark); margin-bottom: 8px;">‚è∞ {{ _("Hours") }}</h4>
          <p style="font-size: 15px; color: var(--text-gray);">{{ _("Mon-Fri 9am-6pm") }}</p>
        </div>
      </div>
    </div>

    <form method="post" action="/contact">
      <div class="form-grid">
        <div class="form-group">
          <label for="name">{{ _("Full name") }} *</label>
          <input type="text" id="name" name="name" required placeholder="{{ _('John Doe') }}" />
        </div>

        <div class="form-group">
          <label for="company">{{ _("Company") }}</label>
          <input type="text" id="company" name="company" placeholder="{{ _('Your company') }}" />
        </div>
      </div>

      <div class="form-grid">
        <div class="form-group">
          <label for="email">{{ _("Email") }} *</label>
          <input type="email" id="email" name="email" required placeholder="{{ _('john.doe@example.com') }}" />
        </div>

        <div class="form-group">
          <label for="phone">{{ _("Phone") }}</label>
          <input type="tel" id="phone" name="phone" placeholder="{{ _('+33 X XX XX XX XX') }}" />
        </div>
      </div>

      <div class="form-group">
        <label for="subject">{{ _("Subject") }} *</label>
        <select id="subject" name="subject" required>
          <option value="">{{ _("Select a subject...") }}</option>
          <option value="question-annonce">{{ _("Question about a listing") }}</option>
          <option value="deposer-annonce">{{ _("Post a listing") }}</option>
          <option value="info-generale">{{ _("General information") }}</option>
          <option value="partenariat">{{ _("Partnership") }}</option>
          <option value="support">{{ _("Technical support") }}</option>
          <option value="rgpd">{{ _("GDPR request (access, deletion, rectification)") }}</option>
          <option value="autre">{{ _("Other") }}</option>
        </select>
      </div>

      <div id="rgpd-notice" style="display: none; margin-top: 16px; padding: 20px; background: #eff6ff; border-radius: var(--radius); border-left: 4px solid var(--primary-color);">
        <h4 style="font-size: 16px; font-weight: 700; margin-bottom: 12px; color: var(--primary-color);">
          ‚ÑπÔ∏è {{ _("GDPR request") }}
        </h4>
        <p style="font-size: 14px; color: var(--text-gray); line-height: 1.6; margin-bottom: 12px;">
          {{ _("In accordance with the General Data Protection Regulation (GDPR), you have the following rights:") }}
        </p>
        <ul style="margin-left: 24px; font-size: 14px; color: var(--text-gray); line-height: 1.8;">
          <li><strong>{{ _("Right of access") }}</strong> : {{ _("Obtain a copy of your personal data") }}</li>
          <li><strong>{{ _("Right to rectification") }}</strong> : {{ _("Correct inaccurate data") }}</li>
          <li><strong>{{ _("Right to erasure") }}</strong> : {{ _('Delete your data ("right to be forgotten")') }}</li>
          <li><strong>{{ _("Right to object") }}</strong> : {{ _("Object to the processing of your data") }}</li>
          <li><strong>{{ _("Right to data portability") }}</strong> : {{ _("Receive your data in a structured format") }}</li>
        </ul>
        <p style="font-size: 14px; color: var(--text-gray); line-height: 1.6; margin-top: 12px; margin-bottom: 0;">
          {{ _("To exercise these rights, specify your request in the message below. We will respond within 30 days.") }}
          <br>{{ _("You can also contact us directly at:") }} <strong>privacy@pieces-methanisation.fr</strong>
        </p>
      </div>

      <script>
        document.getElementById('subject').addEventListener('change', function() {
          const rgpdNotice = document.getElementById('rgpd-notice');
          if (this.value === 'rgpd') {
            rgpdNotice.style.display = 'block';
          } else {
            rgpdNotice.style.display = 'none';
          }
        });
      </script>

      <div class="form-group">
        <label for="reference">{{ _("Listing reference (if applicable)") }}</label>
        <input type="text" id="reference" name="reference" placeholder="#123" />
        <small>{{ _("If your question concerns a specific listing") }}</small>
      </div>

      <div class="form-group">
        <label for="message">{{ _("Message") }} *</label>
        <textarea id="message" name="message" required placeholder="{{ _('Your message...') }}" style="min-height: 180px;"></textarea>
      </div>

      <div style="margin-top: 32px; padding: 20px; background: var(--bg-light); border-radius: var(--radius); border-left: 4px solid var(--primary-color);">
        <p style="font-size: 14px; color: var(--text-gray); line-height: 1.6;">
          <strong>{{ _("Note:") }}</strong> {{ _("This demo does not save data. In a complete version, your message would be sent and you would receive a response within 24 hours.") }}
        </p>
      </div>

      <div style="margin-top: 32px; display: flex; gap: 16px;">
        <button type="submit" class="btn-primary" style="flex: 1;">{{ _("Send message") }}</button>
        <a href="/" class="btn-secondary" style="flex: 1; text-align: center;">{{ _("Back to home") }}</a>
      </div>
    </form>

    <div style="margin-top: 60px; padding-top: 40px; border-top: 1px solid var(--border-color);">
      <h2 style="font-size: 24px; font-weight: 700; margin-bottom: 16px; text-align: center;">{{ _("Frequently asked questions") }}</h2>
      
      <div style="margin-top: 32px;">
        <details style="margin-bottom: 16px; padding: 20px; background: var(--bg-white); border-radius: var(--radius); border: 1px solid var(--border-color);">
          <summary style="font-weight: 600; color: var(--text-dark); cursor: pointer;">{{ _("How to publish a listing?") }}</summary>
          <p style="margin-top: 12px; color: var(--text-gray); line-height: 1.6;">
            {{ _("Go to the \"Post a listing\" page, fill in the form with your equipment details. Your listing will be validated and published within 24 hours.") }}
          </p>
        </details>

        <details style="margin-bottom: 16px; padding: 20px; background: var(--bg-white); border-radius: var(--radius); border: 1px solid var(--border-color);">
          <summary style="font-weight: 600; color: var(--text-dark); cursor: pointer;">{{ _("Are listings free?") }}</summary>
          <p style="margin-top: 12px; color: var(--text-gray); line-height: 1.6;">
            {{ _("Yes, publishing and browsing listings are completely free to encourage exchanges between professionals.") }}
          </p>
        </details>

        <details style="margin-bottom: 16px; padding: 20px; background: var(--bg-white); border-radius: var(--radius); border: 1px solid var(--border-color);">
          <summary style="font-weight: 600; color: var(--text-dark); cursor: pointer;">{{ _("What equipment can I find?") }}</summary>
          <p style="margin-top: 12px; color: var(--text-gray); line-height: 1.6;">
            {{ _("All types of equipment for methanization and biogas: agitation, pumping, purification, cogeneration, automation, instrumentation, etc.") }}
          </p>
        </details>

        <details style="padding: 20px; background: var(--bg-white); border-radius: var(--radius); border: 1px solid var(--border-color);">
          <summary style="font-weight: 600; color: var(--text-dark); cursor: pointer;">{{ _("Do you cover all of Europe?") }}</summary>
          <p style="margin-top: 12px; color: var(--text-gray); line-height: 1.6;">
            {{ _("Yes, our platform covers France and all of Europe (Belgium, Germany, etc.). Sellers and buyers can be located anywhere in Europe.") }}
          </p>
        </details>
      </div>
    </div>
  </div>
</section>
{% endblock %}
