{% extends "base.html" %}

{% block content %}
<section class="form-page">
  <div class="form-container">
    <h1>Contactez-nous</h1>
    <p class="subtitle">Une question sur une annonce ou sur nos services ? Notre √©quipe vous r√©pond rapidement.</p>

    <div style="background: var(--bg-light); padding: 24px; border-radius: var(--radius-lg); margin-bottom: 32px;">
      <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px;">
        <div>
          <h4 style="font-size: 14px; font-weight: 700; color: var(--text-dark); margin-bottom: 8px;">üìß Email</h4>
          <p style="font-size: 15px; color: var(--text-gray);">contact@pieces-methanisation.fr</p>
        </div>
        <div>
          <h4 style="font-size: 14px; font-weight: 700; color: var(--text-dark); margin-bottom: 8px;">üìû T√©l√©phone</h4>
          <p style="font-size: 15px; color: var(--text-gray);">+33 X XX XX XX XX</p>
        </div>
        <div>
          <h4 style="font-size: 14px; font-weight: 700; color: var(--text-dark); margin-bottom: 8px;">‚è∞ Horaires</h4>
          <p style="font-size: 15px; color: var(--text-gray);">Lun-Ven 9h-18h</p>
        </div>
      </div>
    </div>

    <form method="post" action="/contact">
      <div class="form-grid">
        <div class="form-group">
          <label for="name">Nom complet *</label>
          <input type="text" id="name" name="name" required placeholder="Jean Dupont" />
        </div>

        <div class="form-group">
          <label for="company">Soci√©t√©</label>
          <input type="text" id="company" name="company" placeholder="Votre soci√©t√©" />
        </div>
      </div>

      <div class="form-grid">
        <div class="form-group">
          <label for="email">Email *</label>
          <input type="email" id="email" name="email" required placeholder="jean.dupont@exemple.fr" />
        </div>

        <div class="form-group">
          <label for="phone">T√©l√©phone</label>
          <input type="tel" id="phone" name="phone" placeholder="+33 X XX XX XX XX" />
        </div>
      </div>

      <div class="form-group">
        <label for="subject">Sujet *</label>
        <select id="subject" name="subject" required>
          <option value="">S√©lectionnez un sujet...</option>
          <option value="question-annonce">Question sur une annonce</option>
          <option value="deposer-annonce">D√©poser une annonce</option>
          <option value="info-generale">Information g√©n√©rale</option>
          <option value="partenariat">Partenariat</option>
          <option value="support">Support technique</option>
          <option value="rgpd">Demande RGPD (acc√®s, suppression, rectification)</option>
          <option value="autre">Autre</option>
        </select>
      </div>

      <div id="rgpd-notice" style="display: none; margin-top: 16px; padding: 20px; background: #eff6ff; border-radius: var(--radius); border-left: 4px solid var(--primary-color);">
        <h4 style="font-size: 16px; font-weight: 700; margin-bottom: 12px; color: var(--primary-color);">
          ‚ÑπÔ∏è Demande RGPD
        </h4>
        <p style="font-size: 14px; color: var(--text-gray); line-height: 1.6; margin-bottom: 12px;">
          Conform√©ment au R√®glement G√©n√©ral sur la Protection des Donn√©es (RGPD), vous disposez des droits suivants :
        </p>
        <ul style="margin-left: 24px; font-size: 14px; color: var(--text-gray); line-height: 1.8;">
          <li><strong>Droit d'acc√®s</strong> : Obtenir une copie de vos donn√©es personnelles</li>
          <li><strong>Droit de rectification</strong> : Corriger des donn√©es inexactes</li>
          <li><strong>Droit √† l'effacement</strong> : Supprimer vos donn√©es ("droit √† l'oubli")</li>
          <li><strong>Droit d'opposition</strong> : S'opposer au traitement de vos donn√©es</li>
          <li><strong>Droit √† la portabilit√©</strong> : Recevoir vos donn√©es dans un format structur√©</li>
        </ul>
        <p style="font-size: 14px; color: var(--text-gray); line-height: 1.6; margin-top: 12px; margin-bottom: 0;">
          Pour exercer ces droits, pr√©cisez votre demande dans le message ci-dessous. Nous vous r√©pondrons sous 30 jours.
          <br>Vous pouvez aussi nous contacter directement √† : <strong>privacy@pieces-methanisation.fr</strong>
        </p>
      </div>

      <script>
        document.getElementById('subject').addEventListener('change', function() {
          const rgpdNotice = document.getElementById('rgpd-notice');
          if (this.value === 'rgpd') {
            rgpdNotice.style.display = 'block';
          } else {
            rgpdNotice.style.display = 'none';
          }
        });
      </script>

      <div class="form-group">
        <label for="reference">R√©f√©rence d'annonce (si applicable)</label>
        <input type="text" id="reference" name="reference" placeholder="#123" />
        <small>Si votre question concerne une annonce sp√©cifique</small>
      </div>

      <div class="form-group">
        <label for="message">Message *</label>
        <textarea id="message" name="message" required placeholder="Votre message..." style="min-height: 180px;"></textarea>
      </div>

      <div style="margin-top: 32px; padding: 20px; background: var(--bg-light); border-radius: var(--radius); border-left: 4px solid var(--primary-color);">
        <p style="font-size: 14px; color: var(--text-gray); line-height: 1.6;">
          <strong>Note :</strong> Cette d√©mo ne sauvegarde pas les donn√©es. Dans une version compl√®te, votre message serait envoy√© et vous recevriez une r√©ponse sous 24h.
        </p>
      </div>

      <div style="margin-top: 32px; display: flex; gap: 16px;">
        <button type="submit" class="btn-primary" style="flex: 1;">Envoyer le message</button>
        <a href="/" class="btn-secondary" style="flex: 1; text-align: center;">Retour √† l'accueil</a>
      </div>
    </form>

    <div style="margin-top: 60px; padding-top: 40px; border-top: 1px solid var(--border-color);">
      <h2 style="font-size: 24px; font-weight: 700; margin-bottom: 16px; text-align: center;">Questions fr√©quentes</h2>
      
      <div style="margin-top: 32px;">
        <details style="margin-bottom: 16px; padding: 20px; background: var(--bg-white); border-radius: var(--radius); border: 1px solid var(--border-color);">
          <summary style="font-weight: 600; color: var(--text-dark); cursor: pointer;">Comment publier une annonce ?</summary>
          <p style="margin-top: 12px; color: var(--text-gray); line-height: 1.6;">
            Rendez-vous sur la page "D√©poser une annonce", remplissez le formulaire avec les d√©tails de votre √©quipement. Votre annonce sera valid√©e et publi√©e sous 24h.
          </p>
        </details>

        <details style="margin-bottom: 16px; padding: 20px; background: var(--bg-white); border-radius: var(--radius); border: 1px solid var(--border-color);">
          <summary style="font-weight: 600; color: var(--text-dark); cursor: pointer;">Les annonces sont-elles gratuites ?</summary>
          <p style="margin-top: 12px; color: var(--text-gray); line-height: 1.6;">
            Oui, la publication et la consultation des annonces sont enti√®rement gratuites pour favoriser les √©changes entre professionnels.
          </p>
        </details>

        <details style="margin-bottom: 16px; padding: 20px; background: var(--bg-white); border-radius: var(--radius); border: 1px solid var(--border-color);">
          <summary style="font-weight: 600; color: var(--text-dark); cursor: pointer;">Quels √©quipements puis-je trouver ?</summary>
          <p style="margin-top: 12px; color: var(--text-gray); line-height: 1.6;">
            Tous types d'√©quipements pour m√©thanisation et biogaz : agitation, pompage, √©puration, cog√©n√©ration, automatisme, instrumentation, etc.
          </p>
        </details>

        <details style="padding: 20px; background: var(--bg-white); border-radius: var(--radius); border: 1px solid var(--border-color);">
          <summary style="font-weight: 600; color: var(--text-dark); cursor: pointer;">Couvrez-vous toute l'Europe ?</summary>
          <p style="margin-top: 12px; color: var(--text-gray); line-height: 1.6;">
            Oui, notre plateforme couvre la France et l'ensemble de l'Europe (Belgique, Allemagne, etc.). Les vendeurs et acheteurs peuvent √™tre situ√©s partout en Europe.
          </p>
        </details>
      </div>
    </div>
  </div>
</section>
{% endblock %}
