{% extends "base.html" %}

{% block content %}
<section class="form-page">
  <div class="form-container">
    <h1>üö® {{ _("Report a listing") }}</h1>
    <p class="subtitle">{{ _("Report any problematic, fraudulent or non-compliant content") }}</p>

    <div style="background: var(--bg-light); padding: 24px; border-radius: var(--radius-lg); margin-bottom: 32px; border-left: 4px solid var(--primary-color);">
      <h4 style="font-size: 16px; font-weight: 700; color: var(--text-dark); margin-bottom: 12px;">üìã {{ _("Reporting process (DSA)") }}</h4>
      <p style="font-size: 15px; color: var(--text-gray); line-height: 1.7; margin-bottom: 12px;">
        {{ _("In accordance with the Digital Services Act (DSA), you have the right to report any content you consider illegal, fraudulent or non-compliant with our terms of use.") }}
      </p>
      <p style="font-size: 15px; color: var(--text-gray); line-height: 1.7;">
        {{ _("Your report will be reviewed within 48 to 72 hours. If the listing is found non-compliant, it will be removed and the seller will be notified.") }}
      </p>
    </div>

    <form method="post" action="/signaler">
      <div class="form-group">
        <label for="listing_url">{{ _("Listing URL to report") }} *</label>
        <input type="url" id="listing_url" name="listing_url" required placeholder="https://pieces-methanisation.onrender.com/annonces/123" />
        <small>{{ _("Copy and paste the full URL of the listing in question") }}</small>
      </div>

      <div class="form-group">
        <label for="reason">{{ _("Reason for reporting") }} *</label>
        <select id="reason" name="reason" required>
          <option value="">{{ _("Select a reason...") }}</option>
          <option value="fraud">{{ _("Fraudulent listing") }}</option>
          <option value="illegal">{{ _("Illegal content") }}</option>
          <option value="wrong-contact">{{ _("Incorrect contact details") }}</option>
          <option value="spam">{{ _("Spam") }}</option>
          <option value="ip-violation">{{ _("Intellectual property violation") }}</option>
          <option value="other">{{ _("Other") }}</option>
        </select>
        <small>{{ _("Choose the reason that best matches the problem encountered") }}</small>
      </div>

      <div class="form-group">
        <label for="description">{{ _("Detailed description") }} *</label>
        <textarea id="description" name="description" required placeholder="{{ _('Describe precisely the problem encountered...') }}" style="min-height: 180px;"></textarea>
        <small>{{ _("The more precise your description, the faster we can process your report") }}</small>
      </div>

      <div class="form-group">
        <label for="reporter_email">{{ _("Your email (optional)") }}</label>
        <input type="email" id="reporter_email" name="reporter_email" placeholder="{{ _('your.email@example.com') }}" />
        <small>{{ _("If you wish to be kept informed of the processing of your report") }}</small>
      </div>

      <div style="margin-top: 32px; padding: 20px; background: var(--bg-light); border-radius: var(--radius); border-left: 4px solid var(--secondary-color);">
        <h4 style="font-size: 15px; font-weight: 700; color: var(--text-dark); margin-bottom: 12px;">‚ÑπÔ∏è {{ _("Good to know") }}</h4>
        <ul style="font-size: 14px; color: var(--text-gray); line-height: 1.7; margin-left: 20px;">
          <li style="margin-bottom: 8px;">{{ _("Abusive or repeated reports may result in sanctions") }}</li>
          <li style="margin-bottom: 8px;">{{ _("We will inform you of the follow-up if you provided your email") }}</li>
          <li style="margin-bottom: 8px;">{{ _("Personal data is processed in accordance with") }} <a href="/politique-confidentialite" style="color: var(--primary-color); text-decoration: underline;">{{ _("GDPR") }}</a></li>
          <li>{{ _("In case of dispute, you can consult our") }} <a href="/cgv" style="color: var(--primary-color); text-decoration: underline;">{{ _("Terms and Conditions") }}</a></li>
        </ul>
      </div>

      <div style="margin-top: 32px; display: flex; gap: 16px;">
        <button type="submit" class="btn-primary" style="flex: 1;">üì§ {{ _("Send report") }}</button>
        <a href="/annonces" class="btn-secondary" style="flex: 1; text-align: center;">{{ _("Cancel") }}</a>
      </div>
    </form>

    <div style="margin-top: 60px; padding-top: 40px; border-top: 1px solid var(--border-color);">
      <h2 style="font-size: 24px; font-weight: 700; margin-bottom: 16px; text-align: center;">{{ _("Types of content to report") }}</h2>
      
      <div style="margin-top: 32px; display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px;">
        
        <div style="padding: 20px; background: var(--bg-white); border-radius: var(--radius); border: 1px solid var(--border-color);">
          <h4 style="font-size: 16px; font-weight: 700; color: var(--primary-color); margin-bottom: 12px;">üö´ {{ _("Fraudulent listing") }}</h4>
          <p style="font-size: 14px; color: var(--text-gray); line-height: 1.6;">
            {{ _("False information, scams, equipment that does not exist, intentionally misleading price, seller unreachable after payment.") }}
          </p>
        </div>

        <div style="padding: 20px; background: var(--bg-white); border-radius: var(--radius); border: 1px solid var(--border-color);">
          <h4 style="font-size: 16px; font-weight: 700; color: var(--primary-color); margin-bottom: 12px;">‚öñÔ∏è {{ _("Illegal content") }}</h4>
          <p style="font-size: 14px; color: var(--text-gray); line-height: 1.6;">
            {{ _("Counterfeits, prohibited products, defamatory content, incitement to hatred, violation of applicable legislation.") }}
          </p>
        </div>

        <div style="padding: 20px; background: var(--bg-white); border-radius: var(--radius); border: 1px solid var(--border-color);">
          <h4 style="font-size: 16px; font-weight: 700; color: var(--primary-color); margin-bottom: 12px;">üìû {{ _("Incorrect contact details") }}</h4>
          <p style="font-size: 14px; color: var(--text-gray); line-height: 1.6;">
            {{ _("Invalid email or phone, unreachable seller, contact details do not match the announced company.") }}
          </p>
        </div>

        <div style="padding: 20px; background: var(--bg-white); border-radius: var(--radius); border: 1px solid var(--border-color);">
          <h4 style="font-size: 16px; font-weight: 700; color: var(--primary-color); margin-bottom: 12px;">üìß {{ _("Spam") }}</h4>
          <p style="font-size: 14px; color: var(--text-gray); line-height: 1.6;">
            {{ _("Repetitive listings, irrelevant advertising, content unrelated to methanization, listing duplicated multiple times.") }}
          </p>
        </div>

        <div style="padding: 20px; background: var(--bg-white); border-radius: var(--radius); border: 1px solid var(--border-color);">
          <h4 style="font-size: 16px; font-weight: 700; color: var(--primary-color); margin-bottom: 12px;">¬©Ô∏è {{ _("Intellectual property") }}</h4>
          <p style="font-size: 14px; color: var(--text-gray); line-height: 1.6;">
            {{ _("Unauthorized use of photos, trademark violation, reproduction of copyrighted content.") }}
          </p>
        </div>

        <div style="padding: 20px; background: var(--bg-white); border-radius: var(--radius); border: 1px solid var(--border-color);">
          <h4 style="font-size: 16px; font-weight: 700; color: var(--primary-color); margin-bottom: 12px;">‚ùì {{ _("Other reason") }}</h4>
          <p style="font-size: 14px; color: var(--text-gray); line-height: 1.6;">
            {{ _("Any other problem not listed above. Make sure to provide a detailed description in the form.") }}
          </p>
        </div>

      </div>
    </div>

    <div style="margin-top: 40px; text-align: center;">
      <p style="font-size: 14px; color: var(--text-light);">
        {{ _("To learn more about the operation of our platform and our moderation processes, consult our") }} 
        <a href="/comment-ca-marche" style="color: var(--primary-color); text-decoration: underline; font-weight: 600;">{{ _("How it works") }}</a> {{ _("page.") }}
      </p>
    </div>
  </div>
</section>
{% endblock %}
